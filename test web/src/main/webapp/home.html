<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>R!DE OUT • 홈</title>

<style>
:root {--bg:#000;--fg:#fff;--card:#0d0d0d;--accent:#8a7cff;}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{
  height:100%;background:var(--bg);color:var(--fg);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}
.app{
  width:100%;max-width:430px;height:100vh;margin:0 auto;
  display:flex;flex-direction:column;
  background:var(--bg);border:1px solid #222;border-radius:30px;overflow:hidden;
  box-shadow:0 0 20px rgba(0,0,0,.8);
}

/* 상단 영역 */
header{
  display:flex;align-items:center;justify-content:center;
  padding:10px 18px;background:rgba(0,0,0,.7);backdrop-filter:blur(12px);
  position:relative;
}
.logo{font-weight:900;font-size:1.4rem;display:flex;align-items:center;gap:8px;}
.user-info{
  position:absolute;right:18px;top:50%;transform:translateY(-50%);
  display:flex;align-items:center;gap:8px;
  background:rgba(30,30,30,.7);border-radius:15px;padding:4px 8px;cursor:pointer;
}
.user-info img{width:28px;height:28px;border-radius:50%;}
.user-info span{font-size:0.85rem;color:#fff;}
.logout-popup{
  position:absolute;right:15px;top:60px;
  background:#111;border:1px solid #444;border-radius:10px;
  padding:10px 14px;display:none;flex-direction:column;align-items:flex-start;
  z-index:10;
}
.logout-popup button{
  background:none;border:none;color:#fff;cursor:pointer;
  font-size:0.85rem;padding:6px 0;
}
.logout-popup button:hover{color:var(--accent);}

/* 메인 아이콘 영역 */
main{
  flex:1;display:flex;flex-wrap:wrap;align-content:flex-start;
  justify-content:flex-start;padding:20px;gap:20px;
}
.app-icon{
  width:80px;height:80px;background:#111;border-radius:20px;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  font-size:0.8rem;cursor:pointer;
  transition:0.2s;
}
.app-icon:hover{background:#1a1a1a;transform:scale(1.05);}
.app-icon i{font-size:1.6rem;margin-bottom:5px;}

/* 하단 탭바 */
footer{
  height:60px;background:#111;display:flex;align-items:center;justify-content:center;
  border-top:1px solid #333;
}
.tab-btn{
  width:40px;height:40px;background:#444;border-radius:10px;cursor:pointer;
  transition:0.2s;
}
.tab-btn:hover{background:#666;}
</style>
</head>

<body>
<div class="app">
  <!-- 상단 헤더 -->
  <header>
    <div class="logo">🔥 R!DE OUT</div>

    <!-- 로그인된 사용자 표시 -->
    <div id="userInfo" class="user-info" style="display:none;">
      <img id="userImg" src="">
      <span id="userName"></span>
    </div>

    <!-- 로그아웃 팝업 -->
    <div id="logoutPopup" class="logout-popup">
      <button id="logoutBtn">🚪 로그아웃</button>
    </div>
  </header>

  <!-- 앱 메인 아이콘 -->
  <main id="appArea">
    <div class="app-icon" onclick="openPage('/test%20web/src/main/webapp/beat.html')">
      <i>🎧</i><span>비트 추천</span>
    </div>
    <div class="app-icon" onclick="openPage('/test%20web/src/main/webapp/rhyme.html')">
      <i>✍️</i><span>라임 추천</span>
    </div>
    <div class="app-icon" onclick="openPage('/test%20web/src/main/webapp/alarm.html')">
      <i>⏰</i><span>비트 알람</span>
    </div>
    <div class="app-icon" onclick="openPage('/test%20web/src/main/webapp/health.html')">
      <i>💪</i><span>건강 관리</span>
    </div>
    <div class="app-icon" onclick="openPage('/test%20web/src/main/webapp/ai.html')">
      <i>🤖</i><span>성장하는 AI</span>
    </div>
  </main>

  <!-- 하단 탭바 -->
  <footer>
    <div class="tab-btn" onclick="goHome()"></div>
  </footer>
</div>

<script>
// ✅ 로그인 정보 표시
const user = JSON.parse(localStorage.getItem('rideout_user'));
if(user){
  document.getElementById('userImg').src = user.picture;
  document.getElementById('userName').textContent = user.name;
  document.getElementById('userInfo').style.display = 'flex';
}else{
  window.location.href = "login.html"; // ✅ 상대경로
}

// ✅ 로그아웃
document.getElementById('userInfo').addEventListener('click',()=>{
  const popup=document.getElementById('logoutPopup');
  popup.style.display = popup.style.display==='flex' ? 'none' : 'flex';
});
document.getElementById('logoutBtn').addEventListener('click',()=>{
  localStorage.removeItem('rideout_user');
  window.location.href = "login.html"; // ✅ 상대경로
});

// ✅ 홈 버튼
function goHome(){
  window.location.href = "home.html"; // ✅ 상대경로
}

// ✅ 앱 이동
function openPage(page){
  window.location.href = page; // ✅ 이미 같은 폴더면 이렇게
}
</script>
</body>
</html>